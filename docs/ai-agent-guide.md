# AI Agent Chat System - คู่มือการใช้งาน

## 📋 สารบัญ
1. [ภาพรวม](#ภาพรวม)
2. [คุณสมบัติหลัก](#คุณสมบัติหลัก)
3. [วิธีการใช้งาน](#วิธีการใช้งาน)
4. [ตัวอย่างคำสั่ง](#ตัวอย่างคำสั่ง)
5. [การทำงานของระบบ](#การทำงานของระบบ)
6. [คำถามที่พบบ่อย](#คำถามที่พบบ่อย)

---

## ภาพรวม

AI Agent Chat System เป็นระบบผู้ช่วยอัจฉริยะที่ช่วยจัดการร้านอาหารผ่านการสนทนาภาษาไทยธรรมชาติ ช่วยให้คุณสามารถบันทึกข้อมูล ตรวจสอบสถานะ และวิเคราะห์ข้อมูลได้อย่างรวดเร็วและสะดวก

### ข้อดี
- 🗣️ **สื่อสารภาษาไทย**: พิมพ์คำสั่งเป็นภาษาไทยธรรมชาติ ไม่ต้องจำรูปแบบซับซ้อน
- ⚡ **ประมวลผลรวดเร็ว**: วิเคราะห์และบันทึกข้อมูลหลายรายการในครั้งเดียว
- 🎯 **แม่นยำสูง**: ระบบจดจำชื่อวัตถุดิบและหน่วยได้หลากหลาย
- 📊 **ข้อมูลเชิงลึก**: ให้คำแนะนำและวิเคราะห์แนวโน้มราคาอัตโนมัติ
- 📱 **Mobile-Friendly**: ใช้งานได้ลื่นไหลบนทุกอุปกรณ์

---

## คุณสมบัติหลัก

### 1. 📦 บันทึกการซื้อวัตถุดิบ
- รองรับการบันทึกหลายรายการในคำสั่งเดียว
- คำนวณราคาต่อหน่วยอัตโนมัติ
- รองรับหน่วยวัดหลากหลาย (กิโล, ตัว, ลูก, แพ็ค, ฯลฯ)
- จดจำชื่อวัตถุดิบด้วย Fuzzy Matching

**ตัวอย่าง:**
```
ซื้อ กุ้งสด 3 กิโล 450 บาท มะนาว 2 กิโล 120 บาท น้ำปลา 2 ขวด 80 บาท
```

### 2. 💰 บันทึกค่าใช้จ่าย
- แยกประเภทค่าใช้จ่ายอัตโนมัติ (ค่าแรง, สาธารณูปโภค, วัสดุสิ้นเปลือง)
- บันทึกพร้อมกับการซื้อวัตถุดิบได้
- ติดตามค่าใช้จ่ายประจำวัน

**ตัวอย่าง:**
```
ค่าจ้างพนักงาน 500 บาท ค่าไฟฟ้า 1200 บาท ค่าน้ำประปา 350 บาท
```

### 3. 🍲 คำนวณต้นทุนเมนู
- คำนวณต้นทุนจากสูตรที่บันทึกไว้
- อัพเดทราคาวัตถุดิบได้ทันที
- แนะนำราคาขายตาม Gross Profit ที่ต้องการ
- แสดงรายละเอียดต้นทุนแต่ละส่วนประกอบ

**ตัวอย่าง:**
```
เมนูกุ้งแช่น้ำปลา ราคาพริก 120 บาท ต่อกิโล มะนาว 200 บาท ต่อกิโล ช่วยคำนวนต้นทุน
```

### 4. 📊 ตรวจสอบสต๊อก
- ดูระดับสต๊อกวัตถุดิบแบบเรียลไทม์
- รับการแจ้งเตือนเมื่อสต๊อกใกล้หมด
- ตรวจสอบสต๊อกเฉพาะรายการหรือทั้งหมด

**ตัวอย่าง:**
```
สต๊อกพริกเหลือเท่าไหร่
สต๊อกวัตถุดิบทั้งหมด
```

---

## วิธีการใช้งาน

### การเริ่มต้นใช้งาน

1. **เปิด AI Chat**
   - คลิกที่ปุ่ม 🤖 มุมล่างขวาของหน้าจอ
   - หน้าต่างแชทจะเปิดขึ้น

2. **พิมพ์คำสั่ง**
   - พิมพ์คำสั่งหรือคำถามเป็นภาษาไทย
   - ไม่ต้องกังวลเรื่องรูปแบบ AI จะเข้าใจ

3. **ส่งข้อความ**
   - กด Enter หรือคลิกปุ่มส่ง ➤
   - รอ AI ประมวลผล (ปกติไม่เกิน 2-3 วินาที)

4. **ตรวจสอบผลลัพธ์**
   - อ่านคำตอบจาก AI
   - ตรวจสอบข้อมูลใน Google Sheets

### Quick Actions (คำสั่งด่วน)

ใช้ปุ่มคำสั่งด่วนด้านล่างช่องพิมพ์:
- 📊 **ตรวจสต๊อก** - ดูสต๊อกวัตถุดิบทั้งหมด
- 🍲 **คำนวนต้นทุน** - คำนวณต้นทุนเมนูกุ้งแช่น้ำปลา
- 💰 **ยอดขาย** - สรุปยอดขายวันนี้

---

## ตัวอย่างคำสั่ง

### 📦 การซื้อวัตถุดิบ

#### พื้นฐาน
```
ซื้อ กุ้งสด 3 กิโล 450 บาท
```

#### หลายรายการ
```
ซื้อ กะหล่ำ 2 กิโลกรัม 80 บาท พริก 1 กิโล 90 บาท มะนาว 3 กิโล 180 บาท
```

#### พร้อมวันที่
```
20251008 ซื้อ กุ้งสด 5 กิโล 750 บาท
```

#### พร้อมค่าใช้จ่าย
```
20251008 ซื้อ กะหล่ำ 2 กิโลกรัม 80 บาท ค่าจ้างพนักงาน 300 บาท ค่าน้ำแข็ง 50 บาท
```

### 💰 ค่าใช้จ่าย

#### ค่าใช้จ่ายเดี่ยว
```
ค่าจ้างพนักงาน 500 บาท
```

#### หลายรายการ
```
ค่าไฟฟ้า 1200 บาท ค่าน้ำประปา 350 บาท ค่าเช่า 8000 บาท
```

#### พร้อมวันที่
```
20251005 ค่าขนส่ง 150 บาท ค่าวัสดุสิ้นเปลือง 280 บาท
```

### 🍲 คำนวณต้นทุน

#### คำนวณพื้นฐาน
```
เมนูส้มตำไทย ช่วยคำนวนต้นทุน
```

#### พร้อมอัพเดทราคา
```
เมนูกุ้งแช่น้ำปลา ราคาพริก 120 บาท ต่อกิโล ช่วยคำนวนต้นทุน
```

#### พร้อมข้อมูลหลายอย่าง
```
เมนูกุ้งแช่น้ำปลา 7-8 ตัว ราคาพริก 120 บาท ต่อกิโลกรัม มะนาว 200 บาท ต่อกิโลกรัม ช่วยคำนวนต้นทุน
```

### 📊 การตรวจสอบ

#### ตรวจสอบสต๊อกทั้งหมด
```
สต๊อกวัตถุดิบทั้งหมด
สต๊อกเหลือเท่าไหร่
```

#### ตรวจสอบเฉพาะรายการ
```
สต๊อกพริกเหลือเท่าไหร่
กุ้งคงเหลือกี่กิโล
```

---

## การทำงานของระบบ

### สถาปัตยกรรม

```
┌─────────────────┐
│   User Input    │ (Thai Language Command)
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  AI Agent Chat  │ (Natural Language Processing)
│                 │
│  - Parse Text   │
│  - Extract Data │
│  - Classify     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Command Router  │
│                 │
│  - Purchase     │
│  - Expense      │
│  - Menu Cost    │
│  - Query        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Google Sheets   │ (Data Storage)
│ Apps Script     │
│                 │
│  - Purchases    │
│  - Expenses     │
│  - MenuRecipes  │
│  - Stocks       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  AI Response    │ (Insights & Confirmation)
└─────────────────┘
```

### กระบวนการประมวลผล

1. **รับข้อความ** (Input)
   - ผู้ใช้พิมพ์คำสั่งภาษาไทย
   - ระบบเก็บประวัติการสนทนา

2. **วิเคราะห์ภาษา** (NLP)
   - แยกแยะประเภทคำสั่ง (Purchase, Expense, Query)
   - ดึงข้อมูลสำคัญ (วันที่, ชื่อ, จำนวน, ราคา)
   - แปลงหน่วยเป็นมาตรฐาน

3. **ประมวลผล** (Processing)
   - ค้นหาวัตถุดิบในฐานข้อมูล (Fuzzy Matching)
   - คำนวณราคาต่อหน่วย
   - จัดหมวดหมู่ค่าใช้จ่าย

4. **บันทึกข้อมูล** (Storage)
   - เรียก Google Apps Script API
   - บันทึกลง Google Sheets
   - อัพเดทสต๊อก (ถ้ามี)

5. **ตอบกลับ** (Response)
   - สรุปข้อมูลที่บันทึก
   - แสดงข้อมูลเชิงลึก (Insights)
   - แจ้งเตือนหากมีปัญหา

### หน่วยที่รองรับ

| ภาษาไทย | ภาษาอังกฤษ | ประเภท |
|---------|------------|--------|
| กิโล, กิโลกรัม, กก | kg | น้ำหนัก |
| กรัม | g | น้ำหนัก |
| ตัว, ชิ้น, ลูก | piece | จำนวน |
| แพ็ค | pack | หีบห่อ |
| กล่อง | box | หีบห่อ |
| ถุง | bag | หีบห่อ |
| ขวด | bottle | ภาชนะ |
| ลิตร | liter | ปริมาตร |

---

## คำถามที่พบบ่อย

### ❓ AI เข้าใจภาษาไทยได้ดีแค่ไหน?

AI Agent ออกแบบมาเฉพาะสำหรับภาษาไทย รองรับ:
- คำศัพท์ท้องถิ่น (เช่น "กก" แทน "กิโลกรัม")
- รูปแบบประโยคหลากหลาย
- Typo และการสะกดผิดเล็กน้อย
- ชื่อวัตถุดิบที่คล้ายกัน

### ❓ ถ้า AI ไม่เข้าใจคำสั่งจะเกิดอะไรขึ้น?

AI จะ:
1. แจ้งว่าไม่เข้าใจคำสั่ง
2. แนะนำรูปแบบคำสั่งที่ถูกต้อง
3. แสดงตัวอย่างคำสั่งที่ใช้ได้

### ❓ สามารถแก้ไขข้อมูลที่บันทึกผิดได้ไหม?

ปัจจุบัน AI Agent บันทึกข้อมูลเข้า Google Sheets เท่านั้น
- แก้ไขข้อมูลใน Google Sheets ได้โดยตรง
- หรือบันทึกรายการใหม่ที่ถูกต้อง

### ❓ AI Agent เก็บประวัติการสนทนาไว้ไหม?

เก็บไว้ใน:
- **Browser**: ประวัติล่าสุด 10 ข้อความ (localStorage)
- **Google Sheets**: ข้อมูลทั้งหมดที่บันทึก

ล้างประวัติได้โดย:
- เคลียร์ localStorage ของเบราว์เซอร์
- หรือเรียกใช้ฟังก์ชัน `aiChatUI.clearHistory()`

### ❓ ทำไมต้องใช้ AI Agent แทนการกรอกฟอร์มปกติ?

**ข้อดีของ AI Agent:**
- ⚡ **เร็วกว่า**: พิมพ์ครั้งเดียวจบหลายรายการ
- 🎯 **ง่ายกว่า**: ไม่ต้องกรอกหลายฟิลด์
- 🤝 **เป็นธรรมชาติ**: พิมพ์แบบพูดคุยปกติ
- 📱 **สะดวกบนมือถือ**: พิมพ์ง่ายกว่าการกรอกฟอร์ม

**เมื่อไหร่ควรใช้ฟอร์มปกติ:**
- ต้องการควบคุมละเอียด
- บันทึกข้อมูลที่ซับซ้อนมาก
- ต้องการแนบไฟล์หรือรูปภาพ

### ❓ AI Agent ใช้งานได้บนมือถือไหม?

ได้เลย! UI ออกแบบมาเป็น Mobile-First:
- ✅ Responsive Design
- ✅ Touch-Optimized
- ✅ รองรับ iOS และ Android
- ✅ ทำงานได้ทั้ง WiFi และ 4G/5G

### ❓ ข้อมูลปลอดภัยไหม?

- 🔒 ข้อมูลเก็บใน Google Sheets ของคุณเอง
- 🔐 ไม่มีการส่งข้อมูลไปเซิร์ฟเวอร์ภายนอก
- 👥 ใช้ระบบ Permission ของ Google Apps Script
- 📝 บันทึก Log การทำงานทุกครั้ง

---

## เทคนิคการใช้งานขั้นสูง

### 1. การบันทึกแบบ Batch

บันทึกการซื้อจากตลาดทั้งหมดในคราวเดียว:

```
20251008 ซื้อตลาด:
กุ้งสด 5 กิโล 750 บาท
พริก 2 กิโล 180 บาท
มะนาว 3 กิโล 180 บาท
กะหล่ำ 4 กิโล 160 บาท
หอมแดง 1 กิโล 80 บาท
กระเทียม 2 กิโล 140 บาท
ค่าจ้างพนักงาน 300 บาท
ค่าน้ำแข็ง 50 บาท
```

### 2. การวิเคราะห์ราคา

AI จะแจ้งเตือนเมื่อราคาผิดปกติ:
- ราคาสูงกว่าปกติ 10%+
- ราคาต่ำกว่าปกติ 10%+

### 3. การใช้งานร่วมกับ Quick Actions

กดปุ่ม Quick Action แล้วแก้ไขคำสั่งตามต้องการ:
1. กด "คำนวนต้นทุน"
2. แก้ชื่อเมนูและราคาที่ต้องการอัพเดท
3. ส่งคำสั่ง

---

## การอัพเดทและพัฒนาต่อ

### เวอร์ชัน 1.0 (ปัจจุบัน)
- ✅ บันทึกการซื้อวัตถุดิบ
- ✅ บันทึกค่าใช้จ่าย
- ✅ คำนวณต้นทุนเมนู
- ✅ ตรวจสอบสต๊อก
- ✅ ประวัติการสนทนา

### วางแผนเพิ่มเติม (v1.1+)
- 📊 สรุปยอดขายรายวัน/เดือน
- 📈 วิเคราะห์แนวโน้มและพยากรณ์
- 🔔 การแจ้งเตือนเชิงรุก
- 🗣️ Voice Input (พิมพ์ด้วยเสียง)
- 📸 อ่าน OCR จากใบเสร็จ
- 🤖 AI Recommendations (คำแนะนำอัตโนมัติ)

---

## การแก้ปัญหา

### AI ไม่ตอบกลับ

1. ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
2. รีเฟรชหน้าเว็บ (F5)
3. ตรวจสอบ Console (F12) หาข้อความ error
4. ลองคำสั่งใหม่

### ข้อมูลบันทึกไม่ตรง

1. ตรวจสอบการสะกดชื่อวัตถุดิบ
2. ตรวจสอบหน่วยที่ใช้
3. ตรวจสอบ Google Sheets
4. แก้ไขข้อมูลโดยตรงใน Sheets

### AI เข้าใจผิด

1. พิมพ์คำสั่งให้ชัดเจนขึ้น
2. แยกรายการด้วยเครื่องหมายจุลภาค
3. ระบุหน่วยให้ครบถ้วน
4. ใช้ฟอร์มปกติสำหรับข้อมูลซับซ้อน

---

## ติดต่อและสนับสนุน

หากพบปัญหาหรือมีข้อเสนอแนะ:
- 📧 Email: [support@example.com]
- 💬 Chat Support: ในระบบ
- 📱 Line: @posthailand
- 🐛 Report Bug: GitHub Issues

---

## สรุป

AI Agent Chat System ช่วยให้การจัดการร้านอาหารง่ายและรวดเร็วขึ้นด้วยการสื่อสารภาษาไทยธรรมชาติ เหมาะสำหรับ:

- 👨‍🍳 เจ้าของร้านที่ต้องการบันทึกข้อมูลรวดเร็ว
- 📱 การใช้งานบนมือถือขณะซื้อของ
- 💼 การจัดการหลายรายการพร้อมกัน
- 📊 การวิเคราะห์ต้นทุนแบบเรียลไทม์

**เริ่มใช้งานเลย!** 🚀

คลิกปุ่ม 🤖 และลองพิมพ์คำสั่งแรกของคุณ

