<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <title><?= brand ?> ¬∑ POS</title>
  <style>
    :root{
      --spacing-xs:.25rem; --spacing-sm:.5rem; --spacing-md:1rem; --spacing-lg:1.5rem; --spacing-xl:2rem; --spacing-2xl:3rem;
      --fs-xs:.75rem; --fs-sm:.875rem; --fs-md:1rem; --fs-lg:1.125rem; --fs-xl:1.25rem; --fs-2xl:1.5rem; --fs-3xl:1.875rem; --fs-4xl:2.25rem;
      --brand:#2563eb; --brand-ink:#fff; --bg:#fff; --card:#fff; --line:#e5e7eb; --muted:#6b7280;
    }
    *{ box-sizing: border-box }
    html{ font-size:16px; -webkit-text-size-adjust:100%; -webkit-tap-highlight-color:transparent }
    body{ margin:0; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif; color:#111; background:#f6f7fb }
    .container{ width:100%; max-width:min(1200px, 100vw - 2rem); margin:0 auto; padding: 0 var(--spacing-md) }
    .title{ font-size: clamp(var(--fs-2xl), 4vw, var(--fs-4xl)); font-weight:700; margin: var(--spacing-lg) 0 var(--spacing-xs) }
    .subtitle{ font-size: var(--fs-lg); color: var(--muted); margin-bottom: var(--spacing-lg) }
    .dashboard-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: var(--spacing-lg); margin-bottom: var(--spacing-xl) }
    .card{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:16px; box-shadow: 0 2px 8px rgba(0,0,0,.04) }
    .btn{ display:inline-flex; align-items:center; justify-content:center; padding: var(--spacing-md) var(--spacing-xl);
          border:2px solid transparent; border-radius:.75rem; font-size: var(--fs-md); font-weight:600; cursor:pointer; min-height:44px }
    .btn.brand{ background: var(--brand); color: var(--brand-ink) }
    .btn.ghost{ background:#fff; border-color: var(--line); color:#111 }
    .btn.pill{ border-radius:999px; padding:8px 12px; font-size: var(--fs-sm); background:#f5f7fb; border:1px solid #e6e9f0 }
    .btn.pill:hover{ filter:brightness(0.98) }
    .input{ width:100%; padding: var(--spacing-md); border:2px solid #e5e7eb; border-radius:.75rem; font-size: var(--fs-md); background:#fff }
    .input:focus{ outline:none; border-color: var(--brand); box-shadow: 0 0 0 3px rgba(37,99,235,0.1) }
    .table-container{ overflow-x:auto; margin-top: var(--spacing-lg); -webkit-overflow-scrolling: touch }
    .table{ width:100%; border-collapse: collapse; font-size: var(--fs-sm); min-width:600px }
    .table th,.table td{ padding: var(--spacing-md); text-align:left; border-bottom:1px solid #e5e7eb }
    .muted{ color: var(--muted) }
    .hide{ display:none }

    /* AI bubbles */
    .ai-msg{ display:grid; gap:6px; margin:8px 0 }
    .ai-msg .who{ font-size: var(--fs-xs); color: var(--muted) }
    .ai-bubble{ background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px 12px }
    .ai-bubble.me{ background:#e6f4ff; border-color:#b3e0ff }

    @media (max-width:768px){
      :root{ --spacing-md:.75rem; --spacing-lg:1rem; --spacing-xl:1.5rem; --spacing-2xl:2rem }
      .container{ padding: 0 var(--spacing-sm) }
      .table{ font-size: var(--fs-xs) }
      .table th,.table td{ padding: var(--spacing-sm) }
    }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{ animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important }
    }
  </style>
</head>
<body>
  <main class="container">
    <header>
      <h1 class="title"><?= brand ?> POS & Inventory</h1>
      <p class="subtitle">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢ ¬∑ ‡∏™‡∏ï‡πä‡∏≠‡∏Å ¬∑ ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</p>
    </header>

    <section class="dashboard-grid">
      <div class="card">
        <h3 style="margin:0 0 8px">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</h3>
        <div id="low-stock">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶</div>
        <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap">
          <button class="btn ghost" onclick="refreshLowStock()">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
          <button class="btn brand" onclick="openAgent()">‡∏ñ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</button>
        </div>
      </div>

      <div class="card">
        <h3 style="margin:0 0 8px">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡πá‡∏ß</h3>
        <div style="display:grid; gap:10px">
          <div style="display:flex; gap:8px; flex-wrap:wrap">
            <input id="quick-ing" class="input" placeholder="‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏°‡∏ô‡∏π (‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏∏‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà)" />
            <input id="quick-qty" class="input" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡πÄ‡∏ä‡πà‡∏ô 1)" style="max-width:120px" />
            <input id="quick-price" class="input" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)" style="max-width:160px" />
          </div>
          <div style="display:flex; gap:8px; flex-wrap:wrap">
            <button class="btn brand" onclick="quickAddPurchase()">‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤ (‡πÉ‡∏ä‡πâ buy_unit)</button>
            <button class="btn ghost" onclick="quickPriceSuggest()">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö)</button>
            <button class="btn ghost" onclick="quickSellMenu()">‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π (‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£)</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating AI Agent -->
  <div id="ai-agent-button" aria-label="‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞" style="
    position: fixed; right: 16px; bottom: 16px; z-index: 1002; width: 56px; height: 56px; border-radius: 50%;
    display: grid; place-items: center; background: var(--brand); color: #fff; box-shadow: 0 8px 20px rgba(0,0,0,.25);
    cursor: pointer; font-size: 24px;">‚ú®</div>

  <div id="ai-agent-panel" class="hide" role="dialog" aria-modal="true" style="
    position: fixed; right: 12px; bottom: 76px; width: min(420px, calc(100vw - 24px)); max-height: min(70vh, 560px);
    background: var(--card); border: 1px solid var(--line); border-radius: 14px; box-shadow: 0 18px 48px rgba(0,0,0,.35);
    z-index: 1003; display: flex; flex-direction: column;">
    <div style="padding:12px 14px; border-bottom:1px solid var(--line); display:flex; align-items:center; gap:8px;">
      <strong style="font-size: var(--fs-md);">‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô ¬∑ AI</strong>
      <span class="muted" style="font-size: var(--fs-xs);">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</span>
      <div style="flex:1"></div>
      <button id="ai-close" class="btn ghost" aria-label="‡∏õ‡∏¥‡∏î">‚úñ</button>
    </div>

    <div id="ai-messages" style="padding: 12px; overflow:auto; flex:1;"></div>

    <!-- Quick Replies -->
    <div id="ai-quick" style="padding:8px; border-top:1px solid var(--line); display:flex; flex-wrap:wrap; gap:8px;">
      <button class="btn pill" data-txt="‡∏ã‡∏∑‡πâ‡∏≠ ‡∏Å‡∏∏‡πâ‡∏á 1 kg 120 ‡∏ö‡∏≤‡∏ó ‡∏à‡∏≤‡∏Å‡∏ï‡∏•‡∏≤‡∏î">‡∏ã‡∏∑‡πâ‡∏≠ ‡∏Å‡∏∏‡πâ‡∏á 1 kg 120 ‡∏ö‡∏≤‡∏ó</button>
      <button class="btn pill" data-txt="‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</button>
      <button class="btn pill" data-txt="‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö ‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤ min_stock 5">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï min_stock ‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤</button>
      <button class="btn pill" data-txt="‡∏Ç‡∏≤‡∏¢ ‡∏Å‡∏∏‡πâ‡∏á 0.5 kg @ 220 ‡∏ö‡∏≤‡∏ó ‡∏ó‡∏µ‡πà Shopee">‡∏Ç‡∏≤‡∏¢‡∏Å‡∏∏‡πâ‡∏á 0.5kg @220 Shopee</button>
      <button class="btn pill" data-txt="‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏Å‡∏∏‡πâ‡∏á ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Shopee">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Shopee</button>
      <button class="btn pill" data-txt="‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà 2 @ 89 ‡∏ö‡∏≤‡∏ó ‡∏ó‡∏µ‡πà Grab">‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà</button>
    </div>

    <div style="padding: 10px; border-top:1px solid var(--line); display:flex; gap:8px;">
      <input id="ai-input" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô: ‡∏ã‡∏∑‡πâ‡∏≠ ‡∏Å‡∏∏‡πâ‡∏á 2 kg 240 ‡∏ö‡∏≤‡∏ó ‡∏à‡∏≤‡∏Å‡∏ï‡∏•‡∏≤‡∏î / ‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà 2 @ 89 ‡∏ö‡∏≤‡∏ó" />
      <button id="ai-send" class="btn brand">‡∏™‡πà‡∏á</button>
    </div>
  </div>

  <script>
    // ===== Low Stock widget =====
    function refreshLowStock(){
      const el = document.getElementById('low-stock');
      el.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶';
      google.script.run.withSuccessHandler(html=>{ el.innerHTML = html; })
        .withFailureHandler(err=>{ el.textContent = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + (err && (err.message || err) || 'unknown'); })
        .getLowStockHTML();
    }
    function openAgent(){
      document.getElementById('ai-agent-panel').classList.remove('hide');
      document.getElementById('ai-input').focus();
    }

    // Quick actions (frontend helpers)
    function quickAddPurchase(){
      const ing = document.getElementById('quick-ing').value.trim();
      const qty = Number(document.getElementById('quick-qty').value || '0');
      const price = Number(document.getElementById('quick-price').value || '0');
      if (!ing || !(qty>0) || !(price>0)) { alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°'); return; }
      // We pass unit implicitly as ingredient buy_unit via agent parsing ‚Äî safer to type explicit unit if needed:
      window.sendText(`‡∏ã‡∏∑‡πâ‡∏≠ ${ing} ${qty} pcs ${price} ‡∏ö‡∏≤‡∏ó`);
    }
    function quickPriceSuggest(){
      const ing = document.getElementById('quick-ing').value.trim();
      if (!ing) { alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏Å‡πà‡∏≠‡∏ô'); return; }
      window.sendText(`‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏£‡∏≤‡∏Ñ‡∏≤ ${ing}`);
    }
    function quickSellMenu(){
      const menu = document.getElementById('quick-ing').value.trim();
      const servings = Number(document.getElementById('quick-qty').value || '1');
      const priceEach = document.getElementById('quick-price').value.trim();
      const txt = priceEach ? `‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ${menu} ${servings} @ ${priceEach} ‡∏ö‡∏≤‡∏ó` : `‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ${menu} ${servings}`;
      window.sendText(txt);
    }

    // ===== AI Agent front-end =====
    (function(){
      const $ = (sel)=>document.querySelector(sel);
      const msgs = $('#ai-messages');
      const panel = $('#ai-agent-panel');
      const btn = $('#ai-agent-button');

      function pushMsg(who, html){
        const wrap = document.createElement('div');
        wrap.className = 'ai-msg';
        wrap.innerHTML = `<div class="who">${who}</div><div class="ai-bubble ${who === '‡∏Ñ‡∏∏‡∏ì' ? 'me':''}">${html}</div>`;
        msgs.appendChild(wrap);
        msgs.scrollTop = msgs.scrollHeight;
      }

      function onConfirmResult(res){
        if (res && res.status === 'applied') {
          if (res.result && res.result.type === 'html') pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô', res.result.html);
          else pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô', '‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚úÖ');
          if (typeof refreshLowStock === 'function') refreshLowStock();
        } else if (res && res.status === 'noop') {
          pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô', res.message || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á');
        } else {
          pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + (res && res.error ? res.error : '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏'));
        }
      }
      function onError(err){ pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô','‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + (err ? err.message || String(err) : 'unknown')); }
      function getUserKey(){ try { return localStorage.getItem('userKey') || 'guest'; } catch(e) { return 'guest'; } }

      function pushPlan(summary, token, autoApply){
        const wrap = document.createElement('div');
        wrap.className = 'ai-msg';
        wrap.innerHTML = `
          <div class="who">‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô</div>
          <div class="ai-bubble">
            <div style="margin-bottom:8px">${summary}</div>
            <div class="ai-actions" style="display:flex; gap:8px;">
              <button class="btn brand" data-token="${token}" id="ai-confirm">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
              <button class="btn" id="ai-cancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
          </div>`;
        msgs.appendChild(wrap);
        msgs.scrollTop = msgs.scrollHeight;

        const doConfirm = () => {
          wrap.querySelector('#ai-confirm').disabled = true;
          wrap.querySelector('#ai-cancel').disabled = true;
          google.script.run.withSuccessHandler(onConfirmResult).withFailureHandler(onError)
            .agentConfirm({ userKey: getUserKey(), token });
        };
        wrap.querySelector('#ai-confirm').onclick = doConfirm;
        wrap.querySelector('#ai-cancel').onclick = () => pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô','‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚úÖ');
        if (autoApply === true) doConfirm(); // auto for read-only (price suggestions)
      }

      function sendText(raw){
        const t = (raw != null ? raw : $('#ai-input').value).trim();
        if (!t) return;
        pushMsg('‡∏Ñ‡∏∏‡∏ì', t);
        $('#ai-input').value = '';
        google.script.run.withSuccessHandler(function(res){
          if (!res || res.status !== 'ok') { pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô','‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÑ‡∏î‡πâ: ' + (res && res.error ? res.error : 'unknown')); return; }
          const { plan, parsed, token } = res;
          if (!plan) { pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô','‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå "‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á"'); return; }
          const hint = parsed && parsed.intent ? `<div class="muted" style="font-size: var(--fs-xs)">intent: ${parsed.intent}</div>` : '';
          pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô', `üîé <b>‡∏™‡∏£‡∏∏‡∏õ</b>: ${plan.summary}${hint}`);
          if (plan.applyFn && plan.applyFn !== 'none') pushPlan(plan.summary, token, plan.autoApply === true);
        }).withFailureHandler(onError).agentPlan({ userKey: getUserKey(), text: t });
      }
      window.sendText = sendText;

      // Floating UI + handlers
      btn.onclick = ()=> { panel.classList.toggle('hide'); if (!panel.classList.contains('hide')) $('#ai-input').focus(); };
      $('#ai-close').onclick = ()=> panel.classList.add('hide');
      $('#ai-send').onclick = ()=> sendText();
      $('#ai-input').addEventListener('keydown', (e)=>{ if (e.key === 'Enter') sendText(); });

      // Quick replies
      document.querySelectorAll('#ai-quick .btn').forEach(b=> b.addEventListener('click', ()=> sendText(b.getAttribute('data-txt'))));

      // Greeting + initial data
      setTimeout(()=>{ pushMsg('‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πâ‡∏≤‡∏ô','‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‚ú® ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:<br>- ‡∏ã‡∏∑‡πâ‡∏≠ ‡∏Å‡∏∏‡πâ‡∏á 2 kg 240 ‡∏ö‡∏≤‡∏ó ‡∏à‡∏≤‡∏Å‡∏ï‡∏•‡∏≤‡∏î<br>- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö ‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤ min_stock 3<br>- ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î<br>- ‡∏Ç‡∏≤‡∏¢ ‡∏Å‡∏∏‡πâ‡∏á 0.5 kg @ 220 ‡∏ö‡∏≤‡∏ó ‡∏ó‡∏µ‡πà Shopee<br>- ‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏π ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Å‡πà 2 @ 89 ‡∏ö‡∏≤‡∏ó ‡∏ó‡∏µ‡πà Grab<br>- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏Å‡∏∏‡πâ‡∏á ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Shopee'); }, 300);
      refreshLowStock();
    })();
  </script>
</body>
</html>
