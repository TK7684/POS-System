/* Mobile-First Optimized CSS for POS System */

/* ===== MOBILE TYPOGRAPHY & SPACING ===== */
:root {
  /* Mobile-optimized font sizes - much larger for readability */
  --fs-xs: clamp(16px, 4vw, 18px);
  --fs-sm: clamp(18px, 4.5vw, 20px);
  --fs-base: clamp(20px, 5vw, 22px);
  --fs-md: clamp(22px, 5.5vw, 24px);
  --fs-lg: clamp(24px, 6vw, 28px);
  --fs-xl: clamp(28px, 7vw, 32px);
  --fs-2xl: clamp(32px, 8vw, 36px);

  /* Touch-friendly spacing */
  --touch-min: 56px;
  --touch-comfortable: 64px;
  --touch-primary: 72px;
  --touch-nav: 80px;
  --touch-gap: 16px;

  /* Mobile-optimized spacing */
  --gap-xs: 8px;
  --gap-sm: 12px;
  --gap-md: 16px;
  --gap-lg: 20px;
  --gap-xl: 24px;
  --gap-2xl: 32px;

  /* Mobile-optimized heights */
  --appbar-h: 64px;
  --tabbar-h: 80px;
}

/* ===== MOBILE LAYOUT IMPROVEMENTS ===== */
@media (max-width: 768px) {
  /* Force mobile layout */
  .app {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  /* Larger app bar for mobile */
  .appbar {
    height: var(--appbar-h);
    padding: 12px 16px;
    gap: 12px;
  }

  .appbar .title {
    font-size: var(--fs-lg);
    font-weight: 700;
  }

  /* Larger main content padding */
  main {
    padding: 16px;
    padding-bottom: calc(16px + var(--tabbar-h) + env(safe-area-inset-bottom, 0px));
    gap: var(--gap-lg);
  }

  /* Mobile-optimized cards */
  .card {
    padding: 20px;
    border-radius: 16px;
    gap: var(--gap-md);
  }

  /* Mobile-optimized tiles/grid */
  .tile {
    min-height: 140px;
    padding: 20px;
    border-radius: 16px;
    gap: var(--gap-md);
  }

  .tile .title {
    font-size: var(--fs-md);
    font-weight: 600;
    line-height: 1.3;
  }

  .tile .muted {
    font-size: var(--fs-sm);
  }

  /* Mobile-optimized buttons */
  .btn {
    min-height: var(--touch-comfortable);
    padding: 16px 24px;
    font-size: var(--fs-base);
    font-weight: 600;
    border-radius: 12px;
    gap: 8px;
  }

  .btn.brand {
    min-height: var(--touch-primary);
    font-size: var(--fs-md);
    padding: 18px 28px;
  }

  /* Mobile-optimized form elements */
  .field {
    gap: var(--gap-sm);
  }

  .label {
    font-size: var(--fs-sm);
    font-weight: 600;
  }

  .input, .select {
    min-height: var(--touch-comfortable);
    padding: 16px 20px;
    font-size: var(--fs-base);
    border-radius: 12px;
    border-width: 2px;
  }

  /* Mobile-optimized navigation */
  .tabbar {
    height: var(--tabbar-h);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .tabbtn {
    min-height: var(--touch-nav);
    gap: 6px;
    font-size: var(--fs-xs);
  }

  .tabbtn span {
    font-size: var(--fs-xs);
    font-weight: 500;
  }

  /* Mobile-optimized KPI cards */
  .kpi {
    padding: 24px;
    border-radius: 16px;
  }

  .kpi .v {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .kpi .l {
    font-size: var(--fs-sm);
    font-weight: 500;
  }

  /* Mobile-optimized tables */
  .table {
    font-size: var(--fs-sm);
  }

  .table th, .table td {
    padding: 12px 8px;
  }

  /* Mobile-optimized responsive grid */
  .adaptive-grid {
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: var(--gap-md);
  }

  .grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--gap-md);
  }

  /* Mobile-optimized form rows */
  .form-row {
    gap: var(--gap-md);
  }

  .form-row.tablet-horizontal {
    grid-template-columns: 1fr;
  }

  /* Mobile-optimized button groups */
  .tablet-button-group {
    display: flex;
    gap: var(--gap-md);
    flex-direction: column;
  }

  .tablet-button-group .btn {
    width: 100%;
  }

  /* Mobile-optimized rows */
  .row {
    gap: var(--gap-md);
    flex-wrap: wrap;
  }

  /* Mobile-optimized pills */
  .pill {
    padding: 12px 20px;
    font-size: var(--fs-sm);
  }

  /* Mobile-optimized badges */
  .badge {
    padding: 8px 16px;
    font-size: var(--fs-xs);
  }
}

/* ===== EXTRA SMALL MOBILE OPTIMIZATIONS ===== */
@media (max-width: 480px) {
  :root {
    --fs-xs: clamp(16px, 4.5vw, 18px);
    --fs-sm: clamp(18px, 5vw, 20px);
    --fs-base: clamp(20px, 5.5vw, 22px);
    --fs-md: clamp(22px, 6vw, 24px);
    --fs-lg: clamp(24px, 6.5vw, 28px);
    --fs-xl: clamp(28px, 7.5vw, 32px);
  }

  main {
    padding: 12px;
    padding-bottom: calc(12px + var(--tabbar-h) + env(safe-area-inset-bottom, 0px));
  }

  .card {
    padding: 16px;
  }

  .tile {
    min-height: 120px;
    padding: 16px;
  }

  .btn {
    min-height: var(--touch-min);
    padding: 14px 20px;
  }

  .btn.brand {
    min-height: var(--touch-comfortable);
    padding: 16px 24px;
  }

  .input, .select {
    min-height: var(--touch-min);
    padding: 14px 16px;
  }

  .adaptive-grid {
    grid-template-columns: 1fr;
    gap: var(--gap-sm);
  }

  .grid {
    grid-template-columns: 1fr;
    gap: var(--gap-sm);
  }

  .kpi {
    padding: 20px;
  }

  .kpi .v {
    font-size: 32px;
  }
}

/* ===== LANDSCAPE MOBILE OPTIMIZATIONS ===== */
@media (max-width: 768px) and (orientation: landscape) {
  .appbar {
    height: 56px;
    padding: 8px 16px;
  }

  .tabbar {
    height: 64px;
  }

  .tabbtn {
    min-height: 56px;
  }

  main {
    padding: 12px;
    padding-bottom: calc(12px + 64px + env(safe-area-inset-bottom, 0px));
  }

  .adaptive-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
@media (prefers-reduced-motion: no-preference) {
  .btn, .tile, .tabbtn {
    transition: all 0.2s ease;
  }

  .btn:active, .tile:active, .tabbtn:active {
    transform: scale(0.98);
  }

  .tile:hover {
    transform: translateY(-2px);
  }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
  .btn {
    border-width: 2px;
  }

  .input, .select {
    border-width: 2px;
  }

  .card, .tile {
    border-width: 2px;
  }
}

/* ===== DARK MODE MOBILE OPTIMIZATIONS ===== */
@media (prefers-color-scheme: dark) {
  .btn {
    border-color: rgba(255, 255, 255, 0.2);
  }

  .input, .select {
    border-color: rgba(255, 255, 255, 0.2);
  }
}

/* ===== TOUCH IMPROVEMENTS ===== */
@media (hover: none) and (pointer: coarse) {
  /* Remove hover effects on touch devices */
  .tile:hover {
    transform: none;
  }

  .btn:hover {
    transform: none;
  }

  /* Increase touch targets */
  .btn {
    min-height: var(--touch-comfortable);
  }

  .input, .select {
    min-height: var(--touch-comfortable);
  }

  .tabbtn {
    min-height: var(--touch-nav);
  }
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
.card, .tile, .kpi, .btn, .input, .select {
  contain: layout style paint;
}

/* ===== PRINT STYLES ===== */
@media print {
  .appbar, .tabbar {
    display: none;
  }

  main {
    padding: 0;
  }

  .card, .tile {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #000;
  }
}